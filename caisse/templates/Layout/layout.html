{% load tailwind_tags %}
{% load static %}
<!DOCTYPE html>
<html lang="fr" class="{% if is_dark_theme %}dark{% endif %}">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>G+</title>
        {% tailwind_css %}
        <script
            src="https://cdn.jsdelivr.net/npm/alpinejs@2.8.2/dist/alpine.min.js"
            defer></script>
        <!-- Ajout du CDN de Chart.js -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap"
            rel="stylesheet">

    </head>

    <style>
    body {
        font-family: "Urbanist", sans-serif;
    font-optical-sizing: auto;
        font-weight: 550;
        font-style: normal;
        background-color: #F5F7FA;
    }

    
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    p {
        color: #396AFF;
    }

    input,
    select,
    textarea {
        border-radius: 20px;
    }
    </style>

    <body>
        <div class="flex h-screen bg-gray-50 dark:bg-[#323D4E]">
            <!-- Sidebar (hidden on small screens) -->
            <aside id="sidebar"
                class="w-64 p-3 bg-white dark:bg-secondary border fixed inset-y-0 left-0 transform -translate-x-full transition-transform duration-300 ease-in-out sm:translate-x-0 sm:relative sm:flex-shrink-0">
                <button id="sidebarClose"
                    class="text-gray-500 focus:outline-none sm:hidden">
                    <svg class="w-6 h-6" fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>

                <div class="px-6 py-4">
                    <svg width="160" height="60" viewBox="0 0 226 80"
                        fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M41.85 39.6286C51.5326 39.6286 59.4087 31.751 59.4087 22.0684C59.4087 12.3858 51.5326 4.50824 41.85 4.50824C32.1673 4.50824 24.2898 12.3858 24.2898 22.0684C24.2898 31.751 32.1673 39.6286 41.85 39.6286ZM39.7704 11.7466V11.2697C39.7704 10.1204 40.7006 9.19012 41.85 9.19012C42.9979 9.19012 43.9296 10.1204 43.9296 11.2697V11.7494C46.4043 12.2804 48.2662 14.4848 48.2662 17.1162C48.2662 18.2641 47.3346 19.1958 46.1866 19.1958C45.0373 19.1958 44.107 18.2641 44.107 17.1162C44.107 16.3828 43.5095 15.7852 42.7761 15.7852H40.9114C40.178 15.7852 39.5804 16.3828 39.5804 17.1162C39.5804 17.5363 39.7814 17.9355 40.1197 18.1851L41.85 19.4661L46.0535 22.5772C47.4344 23.599 48.2662 25.2336 48.2773 26.9527V26.9721C48.287 28.4389 47.7255 29.8225 46.694 30.8665C45.9287 31.6415 44.9721 32.1614 43.9296 32.3805V32.8671C43.9296 34.0164 42.9979 34.9467 41.85 34.9467C40.7006 34.9467 39.7704 34.0164 39.7704 32.8671V32.3874C38.7555 32.1711 37.8225 31.672 37.0683 30.9261C36.0243 29.896 35.4448 28.5207 35.4365 27.0539C35.4295 25.906 36.3543 24.9688 37.5022 24.9618H37.5161C38.6585 24.9618 39.5887 25.8852 39.5957 27.0289C39.5984 27.7467 40.1759 28.3516 40.9335 28.3516C42.0826 28.3446 41.6546 28.3471 42.7955 28.3405C43.5336 28.3347 44.1238 27.7356 44.1181 26.9998V26.9804C44.1153 26.5645 43.9143 26.168 43.5788 25.9198L41.85 24.6402L37.645 21.5291C36.2531 20.4976 35.4212 18.8478 35.4212 17.1162C35.4212 14.4792 37.2887 12.2735 39.7704 11.7466Z"
                            fill="#396AFF" />
                        <path
                            d="M13.3982 49.6206C12.8651 48.6965 11.681 48.3749 10.7511 48.9113L0.96893 54.5582C0.0426753 55.0943 -0.275088 56.279 0.259647 57.2065L10.2575 74.5229C10.7927 75.4489 11.9767 75.7669 12.9046 75.2322L22.6868 69.584C23.6144 69.0491 23.9309 67.8644 23.3961 66.9369L13.3982 49.6206Z"
                            fill="#396AFF" />
                        <path
                            d="M69.4489 46.1641C68.5075 44.8567 66.6858 44.5614 65.3798 45.5028C61.4175 48.3574 53.8089 53.8392 53.2044 54.2759C52.9258 54.513 52.6332 54.7279 52.3282 54.9178C51.1318 55.6706 49.744 56.0727 48.2952 56.0727H38.3339C37.1859 56.0727 36.2543 55.1424 36.2543 53.9931C36.2543 52.8424 37.1873 51.9135 38.3339 51.9135H48.987C50.5522 51.9135 51.8055 50.6103 51.7404 49.0422C51.6794 47.5546 50.4094 46.4011 48.9204 46.4011H40.8114C40.2624 45.8202 39.6607 45.2879 39.016 44.8123C36.7991 43.1778 34.0596 42.2114 31.0941 42.2114C25.8216 42.2114 20.5755 45.5333 18.4002 49.967L26.9072 64.7003H42.8646C45.9979 64.7003 49.084 63.8989 51.8 62.3364C52.7414 61.7957 53.7493 61.1455 54.8418 60.3608C59.4197 57.0723 68.7793 50.2401 68.7862 50.2359C70.095 49.2959 70.3916 47.4714 69.4489 46.1641Z"
                            fill="#396AFF" />
                        <path
                            d="M90.1765 37.8693H85.9151C85.8583 37.4318 85.7418 37.0369 85.5657 36.6847C85.3896 36.3324 85.1566 36.0312 84.8668 35.7812C84.5771 35.5312 84.2333 35.3409 83.8356 35.2102C83.4435 35.0739 83.0089 35.0057 82.5316 35.0057C81.685 35.0057 80.9549 35.2131 80.3413 35.6278C79.7333 36.0426 79.2646 36.642 78.935 37.4261C78.6112 38.2102 78.4492 39.1591 78.4492 40.2727C78.4492 41.4318 78.614 42.4034 78.9435 43.1875C79.2788 43.9659 79.7475 44.554 80.3498 44.9517C80.9577 45.3437 81.6765 45.5398 82.506 45.5398C82.9719 45.5398 83.3952 45.4801 83.7759 45.3608C84.1623 45.2415 84.5004 45.0682 84.7901 44.8409C85.0856 44.608 85.3271 44.3267 85.5146 43.9972C85.7077 43.6619 85.8413 43.2841 85.9151 42.8636L90.1765 42.8892C90.1026 43.6619 89.8782 44.4233 89.5032 45.1733C89.1339 45.9233 88.6254 46.608 87.9776 47.2273C87.3299 47.8409 86.5401 48.3295 85.6083 48.6932C84.6822 49.0568 83.6197 49.2386 82.4208 49.2386C80.8413 49.2386 79.4265 48.892 78.1765 48.1989C76.9322 47.5 75.9492 46.483 75.2276 45.1477C74.506 43.8125 74.1452 42.1875 74.1452 40.2727C74.1452 38.3523 74.5117 36.7244 75.2447 35.3892C75.9776 34.054 76.9691 33.0398 78.2191 32.3466C79.4691 31.6534 80.8697 31.3068 82.4208 31.3068C83.4776 31.3068 84.4549 31.4545 85.3526 31.75C86.2504 32.0398 87.0401 32.4659 87.7219 33.0284C88.4038 33.5852 88.9577 34.2699 89.3839 35.0824C89.81 35.8949 90.0742 36.8239 90.1765 37.8693ZM96.2809 49.2216C95.4457 49.2216 94.7042 49.0824 94.0565 48.804C93.4144 48.5199 92.9059 48.0937 92.5309 47.5256C92.1616 46.9517 91.9769 46.233 91.9769 45.3693C91.9769 44.642 92.1048 44.0284 92.3604 43.5284C92.6161 43.0284 92.9684 42.6222 93.4173 42.3097C93.8661 41.9972 94.3832 41.7614 94.9684 41.6023C95.5536 41.4375 96.1786 41.3267 96.8434 41.2699C97.5877 41.2017 98.1871 41.1307 98.6417 41.0568C99.0962 40.9773 99.4258 40.8665 99.6303 40.7244C99.8406 40.5767 99.9457 40.3693 99.9457 40.1023V40.0597C99.9457 39.6222 99.7951 39.2841 99.494 39.0455C99.1928 38.8068 98.7866 38.6875 98.2752 38.6875C97.7241 38.6875 97.2809 38.8068 96.9457 39.0455C96.6104 39.2841 96.3974 39.6136 96.3065 40.0341L92.4627 39.8977C92.5763 39.1023 92.869 38.392 93.3406 37.767C93.8178 37.1364 94.4712 36.642 95.3008 36.2841C96.136 35.9205 97.1388 35.7386 98.3093 35.7386C99.1445 35.7386 99.9144 35.8381 100.619 36.0369C101.324 36.2301 101.937 36.5142 102.46 36.8892C102.983 37.2585 103.386 37.7131 103.67 38.2528C103.96 38.7926 104.105 39.4091 104.105 40.1023V49H100.184V47.1761H100.082C99.8491 47.6193 99.5508 47.9943 99.1871 48.3011C98.8292 48.608 98.4059 48.8381 97.9173 48.9915C97.4343 49.1449 96.8888 49.2216 96.2809 49.2216ZM97.5678 46.4943C98.0167 46.4943 98.4201 46.4034 98.7781 46.2216C99.1417 46.0398 99.4315 45.7898 99.6474 45.4716C99.8633 45.1477 99.9712 44.7727 99.9712 44.3466V43.1023C99.8519 43.1648 99.707 43.2216 99.5366 43.2727C99.3718 43.3239 99.19 43.3722 98.9911 43.4176C98.7923 43.4631 98.5877 43.5028 98.3775 43.5369C98.1673 43.571 97.9656 43.6023 97.7724 43.6307C97.3803 43.6932 97.0451 43.7898 96.7667 43.9205C96.494 44.0511 96.2837 44.2216 96.136 44.4318C95.994 44.6364 95.9229 44.8807 95.9229 45.1648C95.9229 45.5966 96.0763 45.9261 96.3832 46.1534C96.6957 46.3807 97.0906 46.4943 97.5678 46.4943ZM118.082 39.9062L114.255 40.0085C114.216 39.7358 114.108 39.4943 113.931 39.2841C113.755 39.0682 113.525 38.9006 113.241 38.7812C112.963 38.6562 112.639 38.5938 112.27 38.5938C111.787 38.5938 111.375 38.6903 111.034 38.8835C110.699 39.0767 110.534 39.3381 110.539 39.6676C110.534 39.9233 110.636 40.1449 110.846 40.3324C111.062 40.5199 111.446 40.6705 111.997 40.7841L114.52 41.2614C115.826 41.5114 116.798 41.9261 117.434 42.5057C118.076 43.0852 118.4 43.8523 118.406 44.8068C118.4 45.7045 118.133 46.4858 117.605 47.1506C117.082 47.8153 116.366 48.3324 115.457 48.7017C114.548 49.0653 113.508 49.2472 112.338 49.2472C110.468 49.2472 108.994 48.8636 107.914 48.0966C106.841 47.3239 106.227 46.2898 106.074 44.9943L110.19 44.892C110.281 45.3693 110.517 45.733 110.897 45.983C111.278 46.233 111.764 46.358 112.355 46.358C112.889 46.358 113.324 46.2585 113.659 46.0597C113.994 45.8608 114.164 45.5966 114.17 45.267C114.164 44.9716 114.034 44.7358 113.778 44.5597C113.522 44.3778 113.122 44.2358 112.576 44.1335L110.292 43.6989C108.98 43.4602 108.002 43.0199 107.36 42.3778C106.718 41.7301 106.4 40.9062 106.406 39.9062C106.4 39.0312 106.633 38.2841 107.105 37.6648C107.576 37.0398 108.247 36.5625 109.116 36.233C109.985 35.9034 111.011 35.7386 112.193 35.7386C113.966 35.7386 115.363 36.1108 116.386 36.8551C117.409 37.5937 117.974 38.6108 118.082 39.9062ZM124.625 41.5341V49H120.458V31.5455H124.489V38.3125H124.634C124.929 37.5057 125.412 36.875 126.083 36.4205C126.759 35.9659 127.586 35.7386 128.563 35.7386C129.483 35.7386 130.284 35.9432 130.966 36.3523C131.648 36.7557 132.176 37.3267 132.551 38.0653C132.932 38.804 133.12 39.6676 133.114 40.6562V49H128.946V41.4744C128.952 40.7472 128.77 40.179 128.401 39.7699C128.032 39.3608 127.512 39.1562 126.841 39.1562C126.404 39.1562 126.017 39.2528 125.682 39.446C125.353 39.6335 125.094 39.9034 124.907 40.2557C124.725 40.608 124.631 41.0341 124.625 41.5341Z"
                            fill="#396AFF" />
                        <path
                            d="M140.872 49V31.5455H145.091V45.5739H152.352V49H140.872ZM160.655 49.2472C159.286 49.2472 158.104 48.9773 157.11 48.4375C156.121 47.892 155.36 47.1165 154.826 46.1108C154.297 45.0994 154.033 43.8977 154.033 42.5057C154.033 41.1534 154.3 39.9716 154.834 38.9602C155.368 37.9432 156.121 37.1534 157.093 36.5909C158.064 36.0227 159.209 35.7386 160.527 35.7386C161.459 35.7386 162.311 35.8835 163.084 36.1733C163.857 36.4631 164.525 36.892 165.087 37.4602C165.65 38.0284 166.087 38.7301 166.4 39.5653C166.712 40.3949 166.868 41.3466 166.868 42.4205V43.4602H155.49V41.0398H162.99C162.985 40.5966 162.88 40.2017 162.675 39.8551C162.471 39.5085 162.189 39.2386 161.831 39.0455C161.479 38.8466 161.073 38.7472 160.613 38.7472C160.147 38.7472 159.729 38.8523 159.36 39.0625C158.99 39.267 158.698 39.5483 158.482 39.9062C158.266 40.2585 158.152 40.6591 158.141 41.108V43.571C158.141 44.1051 158.246 44.5739 158.456 44.9773C158.667 45.375 158.965 45.6847 159.351 45.9062C159.738 46.1278 160.198 46.2386 160.732 46.2386C161.101 46.2386 161.436 46.1875 161.738 46.0852C162.039 45.983 162.297 45.8324 162.513 45.6335C162.729 45.4347 162.891 45.1903 162.999 44.9006L166.826 45.0114C166.667 45.8693 166.317 46.6165 165.777 47.2528C165.243 47.8835 164.542 48.375 163.672 48.7273C162.803 49.0739 161.797 49.2472 160.655 49.2472ZM173.778 49.1875C172.812 49.1875 171.934 48.9375 171.145 48.4375C170.355 47.9375 169.724 47.1875 169.252 46.1875C168.781 45.1875 168.545 43.946 168.545 42.4631C168.545 40.9233 168.789 39.6562 169.278 38.6619C169.767 37.6676 170.406 36.9318 171.196 36.4545C171.991 35.9773 172.846 35.7386 173.761 35.7386C174.449 35.7386 175.037 35.858 175.525 36.0966C176.014 36.3295 176.417 36.6307 176.735 37C177.054 37.3693 177.295 37.7528 177.46 38.1506H177.545V31.5455H181.713V49H177.588V46.8778H177.46C177.284 47.2812 177.034 47.6591 176.71 48.0114C176.386 48.3636 175.98 48.6477 175.491 48.8636C175.008 49.0795 174.437 49.1875 173.778 49.1875ZM175.227 45.9403C175.733 45.9403 176.164 45.7983 176.522 45.5142C176.88 45.2244 177.156 44.8182 177.349 44.2955C177.542 43.7727 177.639 43.1591 177.639 42.4545C177.639 41.7386 177.542 41.1222 177.349 40.6051C177.162 40.0881 176.886 39.6903 176.522 39.4119C176.164 39.1335 175.733 38.9943 175.227 38.9943C174.71 38.9943 174.272 39.1364 173.914 39.4205C173.556 39.7045 173.284 40.1051 173.096 40.6222C172.914 41.1392 172.824 41.75 172.824 42.4545C172.824 43.1591 172.917 43.7727 173.105 44.2955C173.292 44.8182 173.562 45.2244 173.914 45.5142C174.272 45.7983 174.71 45.9403 175.227 45.9403ZM190.451 54.1818C189.206 54.1818 188.141 54.0085 187.255 53.6619C186.368 53.3153 185.672 52.8409 185.167 52.2386C184.661 51.6364 184.357 50.9545 184.255 50.1932L188.201 49.9716C188.275 50.2386 188.411 50.4716 188.61 50.6705C188.814 50.8693 189.078 51.0227 189.402 51.1307C189.732 51.2386 190.118 51.2926 190.561 51.2926C191.26 51.2926 191.837 51.1222 192.292 50.7812C192.752 50.446 192.982 49.858 192.982 49.017V46.7159H192.837C192.672 47.1193 192.422 47.4801 192.087 47.7983C191.752 48.1165 191.334 48.3665 190.834 48.5483C190.34 48.7301 189.772 48.821 189.13 48.821C188.175 48.821 187.3 48.5994 186.505 48.1562C185.715 47.7074 185.081 47.0142 184.604 46.0767C184.132 45.1335 183.897 43.9205 183.897 42.4375C183.897 40.9091 184.141 39.6506 184.63 38.6619C185.118 37.6676 185.757 36.9318 186.547 36.4545C187.343 35.9773 188.198 35.7386 189.113 35.7386C189.8 35.7386 190.388 35.858 190.877 36.0966C191.371 36.3295 191.777 36.6307 192.096 37C192.414 37.3693 192.655 37.7528 192.82 38.1506H192.939V35.9091H197.09V49.0511C197.09 50.1591 196.811 51.0938 196.255 51.8551C195.698 52.6165 194.919 53.1932 193.919 53.5852C192.919 53.983 191.763 54.1818 190.451 54.1818ZM190.578 45.7869C191.084 45.7869 191.516 45.6534 191.874 45.3864C192.232 45.1193 192.507 44.7358 192.701 44.2358C192.894 43.7358 192.99 43.1364 192.99 42.4375C192.99 41.7273 192.894 41.1165 192.701 40.6051C192.513 40.0881 192.238 39.6903 191.874 39.4119C191.516 39.1335 191.084 38.9943 190.578 38.9943C190.061 38.9943 189.624 39.1364 189.266 39.4205C188.908 39.7045 188.635 40.1051 188.448 40.6222C188.266 41.1335 188.175 41.7386 188.175 42.4375C188.175 43.1364 188.269 43.7358 188.456 44.2358C188.644 44.7358 188.914 45.1193 189.266 45.3864C189.624 45.6534 190.061 45.7869 190.578 45.7869ZM205.866 49.2472C204.497 49.2472 203.315 48.9773 202.321 48.4375C201.332 47.892 200.571 47.1165 200.037 46.1108C199.508 45.0994 199.244 43.8977 199.244 42.5057C199.244 41.1534 199.511 39.9716 200.045 38.9602C200.579 37.9432 201.332 37.1534 202.304 36.5909C203.275 36.0227 204.42 35.7386 205.738 35.7386C206.67 35.7386 207.522 35.8835 208.295 36.1733C209.068 36.4631 209.735 36.892 210.298 37.4602C210.86 38.0284 211.298 38.7301 211.61 39.5653C211.923 40.3949 212.079 41.3466 212.079 42.4205V43.4602H200.701V41.0398H208.201C208.196 40.5966 208.091 40.2017 207.886 39.8551C207.681 39.5085 207.4 39.2386 207.042 39.0455C206.69 38.8466 206.284 38.7472 205.824 38.7472C205.358 38.7472 204.94 38.8523 204.571 39.0625C204.201 39.267 203.909 39.5483 203.693 39.9062C203.477 40.2585 203.363 40.6591 203.352 41.108V43.571C203.352 44.1051 203.457 44.5739 203.667 44.9773C203.877 45.375 204.176 45.6847 204.562 45.9062C204.949 46.1278 205.409 46.2386 205.943 46.2386C206.312 46.2386 206.647 46.1875 206.949 46.0852C207.25 45.983 207.508 45.8324 207.724 45.6335C207.94 45.4347 208.102 45.1903 208.21 44.9006L212.037 45.0114C211.877 45.8693 211.528 46.6165 210.988 47.2528C210.454 47.8835 209.752 48.375 208.883 48.7273C208.014 49.0739 207.008 49.2472 205.866 49.2472ZM214.208 49V35.9091H218.256V38.2955H218.392C218.631 37.4318 219.02 36.7898 219.56 36.3693C220.1 35.9432 220.728 35.7301 221.444 35.7301C221.637 35.7301 221.836 35.7443 222.04 35.7727C222.245 35.7955 222.435 35.8324 222.611 35.8835V39.5057C222.412 39.4375 222.151 39.3835 221.827 39.3438C221.509 39.304 221.225 39.2841 220.975 39.2841C220.48 39.2841 220.034 39.3949 219.637 39.6165C219.245 39.8324 218.935 40.1364 218.708 40.5284C218.486 40.9148 218.375 41.3693 218.375 41.892V49H214.208Z"
                            fill="#343C6A" />
                    </svg>

                </div>

                <nav class="mt-6">
                    <a href="{% url 'caisse:index' %}"
                        class="flex items-center px-4 py-2 mt-2 {% if request.path == '/caisse/' %}text-blue-600 bg-blue-100  rounded-lg{% else %}text-gray-600 dark:text-white hover:bg-blue-100 rounded-lg{% endif %}">
                        <svg xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 mr-2" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path
                                d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
                        </svg>
                        <span class="ml-3">Tableau de bord</span>
                    </a>
                    <a href="{% url 'caisse:operation' %}"
                        class="flex items-center px-4 py-2 mt-2 {% if request.path == '/caisse/operations/' %}text-blue-600 bg-blue-100 rounded-lg{% else %}text-gray-600 dark:text-white hover:bg-blue-100 rounded-lg{% endif %}">
                        <svg xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 mr-2"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round">
                            <path d="M7 13l5 5 5-5" />
                            <path d="M7 6l5-5 5 5" />
                        </svg>
                        <span class="ml-3">Opérations</span>
                    </a>
                    <a href="{% url 'caisse:listes' %}"
                        class="flex items-center px-4 py-2 mt-2 {% if request.path == '/caisse/listes/' %}text-blue-600 bg-blue-100 rounded-lg{% else %}text-gray-600 dark:text-white hover:bg-blue-100 rounded-lg{% endif %}">
                        <svg xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 mr-2" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" />
                            <path fill-rule="evenodd"
                                d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z"
                                clip-rule="evenodd" />
                        </svg>
                        <span class="ml-3">Listes</span>
                    </a>
                    <a href="{% url 'caisse:depenses' %}"
                        class="flex items-center px-4 py-2 mt-2 {% if request.path == '/caisse/depenses/' %}text-blue-600 bg-blue-100 rounded-lg{% else %}text-gray-600 dark:text-white hover:bg-blue-100 rounded-lg{% endif %}">
                        <svg xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 mr-2" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path
                                d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z" />
                            <path fill-rule="evenodd"
                                d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"
                                clip-rule="evenodd" />
                        </svg>
                        <span class="ml-3">Dépenses</span>
                    </a>
                    <a href="{% url 'caisse:acteurs' %}"
                        class="flex items-center px-4 py-2 mt-2 {% if request.path == '/caisse/acteurs/' %}text-blue-600 bg-blue-100 rounded-lg{% else %}text-gray-600 dark:text-white hover:bg-blue-100 rounded-lg{% endif %}">
                        <svg xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 mr-2" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path
                                d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />
                        </svg>
                        <span class="ml-3">Acteurs</span>
                    </a>
                    {% if request.user.is_staff %}
                    <!-- Nouvel élément pour les utilisateurs -->
                    <a href="{% url 'caisse:utilisateurs' %}"
                        class="flex items-center px-4 py-2 mt-2 {% if request.path == '/caisse/utilisateurs/' %}text-blue-600 bg-blue-100 rounded-lg{% else %}text-gray-600 dark:text-white hover:bg-blue-100 rounded-lg{% endif %}">
                        <svg xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 mr-2" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path
                                d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" />
                        </svg>
                        <span class="ml-3">Utilisateurs</span>
                    </a>
                    {% endif %}
                    <a href="{% url 'caisse:historique' %}"
                        class="flex items-center px-4 py-2 mt-2 {% if request.path == '/caisse/historique/' %}text-blue-600 bg-blue-100 rounded-lg{% else %}text-gray-600 dark:text-white hover:bg-blue-100 rounded-lg{% endif %}">
                        <svg width="25" height="25" viewBox="0 0 25 25"
                            fill="none" xmlns="http://www.w3.org/2000/svg">

                            <path
                                d="M16.0859 17.1875L11.7188 12.8203V5.46875H13.2812V12.1719L17.1875 16.0859L16.0859 17.1875Z"
                                fill="currentColor" />

                            <path
                                d="M12.5 1.5625C11.0429 1.56271 9.60072 1.8553 8.25877 2.42294C6.91683 2.99058 5.70243 3.82174 4.6875 4.86719V1.5625H3.125V7.8125H9.375V6.25H5.53125C6.9969 4.62132 8.9867 3.55744 11.1551 3.24313C13.3235 2.92881 15.5335 3.38392 17.4012 4.52941C19.269 5.67489 20.6766 7.4384 21.3795 9.51364C22.0824 11.5889 22.0362 13.8448 21.249 15.8895C20.4617 17.9343 18.9832 19.6387 17.0701 20.7068C15.157 21.7749 12.9303 22.1392 10.7766 21.7364C8.62284 21.3336 6.67824 20.1892 5.28047 18.5019C3.88269 16.8146 3.12005 14.691 3.125 12.5H1.5625C1.5625 14.6632 2.20397 16.7779 3.4058 18.5765C4.60763 20.3752 6.31583 21.7771 8.3144 22.6049C10.313 23.4328 12.5121 23.6494 14.6338 23.2273C16.7555 22.8053 18.7043 21.7636 20.234 20.234C21.7636 18.7043 22.8053 16.7555 23.2273 14.6338C23.6494 12.5121 23.4328 10.313 22.6049 8.3144C21.7771 6.31583 20.3752 4.60763 18.5765 3.4058C16.7779 2.20397 14.6632 1.5625 12.5 1.5625Z"
                                fill="currentColor" />

                        </svg>
                        <span class="ml-3">Historique</span>
                    </a>
                    
                    <a href="{% url 'caisse:parametres' %}"
                        class="flex items-center px-4 py-2 mt-2 {% if request.path == '/caisse/parametres/' %}text-blue-600 bg-blue-100 rounded-lg{% else %}text-gray-600 dark:text-white hover:bg-blue-100 rounded-lg{% endif %}">
                        <svg xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 mr-2" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path
                                d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" />
                        </svg>
                        <span class="ml-3">Profil</span>
                    </a>
                </nav>
            </aside>

            <!-- Main content -->
            <div class="flex-1 flex flex-col">
                <!-- Header with button to toggle sidebar -->
                <header
                    class="flex items-center justify-between px-6 py-4 bg-white dark:bg-secondary">
                    <button id="sidebarToggle"
                        class="text-gray-500 focus:outline-none sm:hidden">
                        <svg class="w-6 h-6" fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                    <div class="font-bold text-2xl dark:text-white"> 
                    {% block title_page %}
                        
                    {% endblock title_page %}
                    </div>
                    <div class="flex items-center">
                        <!-- Button to toggle sidebar -->

                        <!-- Button to close sidebar (visible only on small screens) -->

                        <div class="flex items-center border mx-5 border-gray-500 bg-gray-50 dark:bg-secondary rounded-full px-4 group group-focus:border-blue-500 group:focus:ring-blue-500 transition-colors duration-200">
                            <div
                                class="flex items-center pointer-events-none">
                                <svg class="h-5 w-5 text-gray-400"
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                            <input type="text"
                                class="py-2 border-none focus:outline-none rounded-full bg-transparent focus:ring-0 dark:text-white"
                                placeholder="Entrer votre recherche ici">
                        </div>
                        <a href="{% url 'change_theme' %}" id="theme-toggle" class="mx-4">
                            <div class="flex items-center justify-center border rounded-full overflow-hidden cursor-pointer">
                                <div class="w-2/4 {% if not is_dark_theme %} bg-primary {% endif %} h-full p-2">
                                    <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9.20017 5.02319C7.00709 5.02319 5.22339 6.80689 5.22339 8.99996C5.22339 11.193 7.00709 12.9767 9.20017 12.9767C11.3932 12.9767 13.177 11.193 13.177 8.99996C13.177 6.80689 11.3932 5.02319 9.20017 5.02319ZM9.20017 11.6609C7.73812 11.6609 6.53924 10.462 6.53924 8.99996C6.53924 7.53791 7.73812 6.33903 9.20017 6.33903C10.6622 6.33903 11.8611 7.53791 11.8611 8.99996C11.8611 10.462 10.6622 11.6609 9.20017 11.6609Z" fill="white"/>
                                    <path d="M9.20001 2.94713C9.5509 2.94713 9.87255 2.65472 9.87255 2.27459V0.812541C9.87255 0.46165 9.58014 0.139999 9.20001 0.139999C8.84912 0.139999 8.52747 0.432409 8.52747 0.812541V2.30383C8.55671 2.65472 8.84912 2.94713 9.20001 2.94713Z" fill="white"/>
                                    <path d="M9.20001 15.0529C8.84912 15.0529 8.52747 15.3453 8.52747 15.7254V17.1875C8.52747 17.5384 8.81988 17.86 9.20001 17.86C9.5509 17.86 9.87255 17.5676 9.87255 17.1875V15.6962C9.87255 15.3453 9.5509 15.0529 9.20001 15.0529Z" fill="white"/>
                                    <path d="M13.9664 4.90619C14.1419 4.90619 14.3173 4.84771 14.4343 4.7015L15.37 3.76579C15.6332 3.50262 15.6332 3.09325 15.37 2.83008C15.1068 2.56691 14.6975 2.56691 14.4343 2.83008L13.4986 3.76579C13.2354 4.02896 13.2354 4.43833 13.4986 4.7015C13.6155 4.84771 13.791 4.90619 13.9664 4.90619Z" fill="white"/>
                                    <path d="M3.99509 13.2984L3.05938 14.2049C2.79621 14.468 2.79621 14.8774 3.05938 15.1406C3.17634 15.2575 3.35179 15.3453 3.52723 15.3453C3.70268 15.3453 3.87813 15.2868 3.99509 15.1406L4.9308 14.2049C5.19397 13.9417 5.19397 13.5323 4.9308 13.2691C4.66763 13.0352 4.22902 13.0352 3.99509 13.2984Z" fill="white"/>
                                    <path d="M17.3874 8.35678H15.8961C15.5452 8.35678 15.2236 8.64919 15.2236 9.02932C15.2236 9.38021 15.516 9.70186 15.8961 9.70186H17.3874C17.7383 9.70186 18.06 9.40945 18.06 9.02932C18.06 8.64919 17.7383 8.35678 17.3874 8.35678Z" fill="white"/>
                                    <path d="M3.14711 8.99999C3.14711 8.6491 2.8547 8.32745 2.47456 8.32745H1.01251C0.661617 8.32745 0.339966 8.61986 0.339966 8.99999C0.339966 9.35089 0.632376 9.67254 1.01251 9.67254H2.5038C2.8547 9.67254 3.14711 9.35089 3.14711 8.99999Z" fill="white"/>
                                    <path d="M14.405 13.2984C14.1418 13.0352 13.7325 13.0352 13.4693 13.2984C13.2061 13.5615 13.2061 13.9709 13.4693 14.2341L14.405 15.1698C14.522 15.2868 14.6974 15.3745 14.8729 15.3745C15.0483 15.3745 15.2238 15.316 15.3407 15.1698C15.6039 14.9066 15.6039 14.4973 15.3407 14.2341L14.405 13.2984Z" fill="white"/>
                                    <path d="M3.99509 2.85941C3.73192 2.59624 3.32255 2.59624 3.05938 2.85941C2.79621 3.12258 2.79621 3.53195 3.05938 3.79512L3.99509 4.73083C4.11205 4.84779 4.2875 4.93552 4.46295 4.93552C4.63839 4.93552 4.81384 4.87703 4.9308 4.73083C5.19397 4.46766 5.19397 4.05829 4.9308 3.79512L3.99509 2.85941Z" fill="white"/>
                                    </svg>
                                </div>
                                <div class="p-2 w-2/4 h-full {% if  is_dark_theme %} text-primary dark:text-white bg-primary {% endif %}"> 
                                    <svg width="13" height="18" viewBox="0 0 13 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7.47795 0.882302C7.01812 0.737515 6.55828 0.621684 6.0714 0.534812C5.71976 0.476896 5.34108 0.679599 5.20583 1.02709C5.04354 1.37458 5.12469 1.80894 5.39518 2.04061C7.31566 3.95181 8.01893 6.76069 7.23451 9.39583C6.36894 12.3205 3.82633 14.3765 0.877989 14.4634C0.499303 14.4634 0.201764 14.724 0.0935677 15.1005C-0.0146284 15.4769 0.147666 15.8823 0.445205 16.085C1.12143 16.5194 1.79766 16.8669 2.47388 17.0985C3.2583 17.3592 4.06977 17.475 4.88124 17.475C6.26074 17.475 7.6132 17.0985 8.8304 16.3746C10.7509 15.2453 12.1033 13.4209 12.6984 11.2202C13.8615 6.87652 11.5624 2.33018 7.47795 0.882302ZM11.5353 10.8437C11.0484 12.726 9.85826 14.2607 8.26237 15.2163C6.58533 16.2009 4.66485 16.4036 2.85257 15.8244C2.66322 15.7665 2.44683 15.6796 2.25749 15.5928C5.12469 14.9846 7.505 12.7839 8.39762 9.77228C9.18204 7.10818 8.69516 4.2993 7.09926 2.09852C10.5615 3.3437 12.5091 7.19506 11.5353 10.8437Z" fill="currentcolor"/>
                                    </svg>          
                                </div>
                            </div>
                        </a>
                        <!-- Dropdown menu -->
                        <div class="relative mx-4" x-data="{ open: false }">
                            <button @click="open = !open"
                                class="flex items-center focus:outline-none">
                                {% if request.user.photo %}
                                <img class="w-10 h-10 rounded-full object-cover"
                                    src="{{ request.user.photo.url }}"
                                    alt="Photo de profil de {{ request.user.username }}">
                                {% else %}
                                <img class="w-10 h-10 rounded-full object-cover"
                                    src="https://randomuser.me/api/portraits/women/50.jpg"
                                    alt="Photo de profil de {{ request.user.username }}">
                                {% endif %}
                                <svg class="w-4 h-4 ml-2" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round"
                                        stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>

                            <!-- Dropdown content -->
                            <div x-show="open"
                                @click.away="open = false"
                                class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-900 rounded-md shadow-lg py-1"
                                style="display: none;">
                                <a href="{% url 'caisse:parametres' %}"
                                    class="block px-4 py-2 text-sm text-gray-700 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-500">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="h-5 w-5 inline-block mr-2"
                                        viewBox="0 0 24 24"
                                        fill="currentColor">
                                        <path
                                            d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                                    </svg>
                                    Profil
                                </a>
                                <a href="{% url 'accounts:logout_user' %}"
                                    class="block px-4 py-2 text-sm text-gray-700 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-500">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="h-5 w-5 inline-block mr-2"
                                        viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd"
                                            d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z"
                                            clip-rule="evenodd" />
                                    </svg>
                                    Déconnexion
                                </a>
                            </div>
                        </div>
                        
                    </div>
                </header>

                <!-- Content -->
                <main class="p-6 overflow-y-auto h-full">
                    <div class="max-h-full">
                        {% if messages %}
                        <div class="mb-4">
                            {% for message in messages %}
                            <div
                                class="p-4 rounded-lg {% if message.tags == 'success' %}bg-green-100 text-green-700{% elif message.tags == 'error' %}bg-red-100 text-red-700{% endif %}">
                                {{ message }}
                            </div>
                            {% endfor %}
                        </div>
                        {% endif %}
                        {% block content %}
                        <!-- Page content will go here -->
                        {% endblock %}
                    </div>
                </main>
            </div>
        </div>

        <script>
    // Toggle the sidebar visibility
    const sidebarToggle = document.getElementById('sidebarToggle');
    const sidebarClose = document.getElementById('sidebarClose'); // New line
    const sidebar = document.getElementById('sidebar');
  
    sidebarToggle.addEventListener('click', () => {
      sidebar.classList.toggle('-translate-x-full');
    });
    
    sidebarClose.addEventListener('click', () => { // New event listener
      sidebar.classList.add('-translate-x-full');
    });
  </script>
    </body>
</html>